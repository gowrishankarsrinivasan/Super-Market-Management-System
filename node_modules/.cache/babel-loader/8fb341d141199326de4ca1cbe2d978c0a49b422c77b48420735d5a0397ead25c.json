{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      profileImage: null,\n      panCardImage: null,\n      profile: {\n        name: \"\",\n        gender: \"\",\n        email: \"\",\n        phone: \"\",\n        address: \"\",\n        dob: \"\",\n        panFullName: \"\",\n        panNumber: \"\"\n      }\n    };\n  },\n  methods: {\n    async fetchProfile() {\n      try {\n        const response = await axios.get('/api/profile'); // Replace with your API endpoint\n        this.profile = response.data;\n      } catch (error) {\n        console.error(\"Error fetching profile data:\", error);\n      }\n    },\n    triggerFileInput() {\n      this.$refs.fileInput.click();\n    },\n    onFileChange(event) {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          this.profileImage = e.target.result;\n        };\n        reader.readAsDataURL(file);\n      }\n    },\n    triggerPanCardFileInput() {\n      this.$refs.panCardFileInput.click();\n    },\n    onPanCardFileChange(event) {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          this.panCardImage = e.target.result;\n        };\n        reader.readAsDataURL(file);\n      }\n    },\n    async saveProfile() {\n      try {\n        const formData = new FormData();\n        formData.append('name', this.profile.name);\n        formData.append('gender', this.profile.gender);\n        formData.append('email', this.profile.email);\n        formData.append('phone', this.profile.phone);\n        formData.append('address', this.profile.address);\n        formData.append('dob', this.profile.dob);\n        formData.append('panFullName', this.profile.panFullName);\n        formData.append('panNumber', this.profile.panNumber);\n        if (this.$refs.fileInput.files[0]) {\n          formData.append('profileImage', this.$refs.fileInput.files[0]);\n        }\n        if (this.$refs.panCardFileInput.files[0]) {\n          formData.append('panCardImage', this.$refs.panCardFileInput.files[0]);\n        }\n        await axios.post('/api/profile/update', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        alert('Profile updated successfully!');\n      } catch (error) {\n        console.error(\"Error updating profile data:\", error);\n        alert('Error updating profile.');\n      }\n    }\n  },\n  mounted() {\n    this.fetchProfile();\n  }\n};","map":{"version":3,"names":["axios","data","profileImage","panCardImage","profile","name","gender","email","phone","address","dob","panFullName","panNumber","methods","fetchProfile","response","get","error","console","triggerFileInput","$refs","fileInput","click","onFileChange","event","file","target","files","reader","FileReader","onload","e","result","readAsDataURL","triggerPanCardFileInput","panCardFileInput","onPanCardFileChange","saveProfile","formData","FormData","append","post","headers","alert","mounted"],"sources":["D:\\E-commerce\\FrontEnd\\my-vue3-project\\src\\components\\ProfileComponent.vue"],"sourcesContent":["<template>\r\n    <v-container class=\"py-10\">\r\n      <v-row justify=\"center\">\r\n        <v-col cols=\"12\" md=\"8\">\r\n          <v-card class=\"pa-5\">\r\n            <v-row>\r\n              <!-- Profile Image Section -->\r\n              <v-col cols=\"12\" md=\"4\" class=\"text-center\">\r\n                <v-avatar size=\"150\" @click=\"triggerFileInput\" class=\"profile-avatar\">\r\n                  <img :src=\"profileImage || 'https://via.placeholder.com/150'\" alt=\"Profile Picture\" class=\"avatar-img\">\r\n                </v-avatar>\r\n                <input\r\n                  ref=\"fileInput\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  @change=\"onFileChange\"\r\n                  style=\"display: none;\"\r\n                />\r\n                <v-btn class=\"mt-2\" small outlined @click=\"triggerFileInput\">Change Image</v-btn>\r\n              </v-col>\r\n              <!-- Profile Information Section -->\r\n              <v-col cols=\"12\" md=\"8\">\r\n                <v-form ref=\"form\">\r\n                  <v-row>\r\n                    <!-- Name Field -->\r\n                    <v-col cols=\"12\">\r\n                      <v-text-field label=\"Name\" v-model=\"profile.name\" outlined dense></v-text-field>\r\n                    </v-col>\r\n                    <!-- Gender and DOB Section -->\r\n                    <v-col cols=\"12\">\r\n                      <v-row>\r\n                        <v-col cols=\"6\">\r\n                          <v-radio-group v-model=\"profile.gender\" label=\"Your Gender\" row dense>\r\n                            <v-radio label=\"Male\" value=\"male\"></v-radio>\r\n                            <v-radio label=\"Female\" value=\"female\"></v-radio>\r\n                          </v-radio-group>\r\n                        </v-col>\r\n                        <v-col cols=\"6\">\r\n                          <v-text-field label=\"Date of Birth\" v-model=\"profile.dob\" outlined dense></v-text-field>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-col>\r\n                    <!-- Additional Fields -->\r\n                    <v-col cols=\"12\">\r\n                      <v-text-field label=\"Email\" v-model=\"profile.email\" outlined dense></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\">\r\n                      <v-text-field label=\"Phone\" v-model=\"profile.phone\" outlined dense></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\">\r\n                      <v-textarea label=\"Address\" v-model=\"profile.address\" outlined dense></v-textarea>\r\n                    </v-col>\r\n                    <v-col cols=\"12\">\r\n                      <v-text-field label=\"PAN Card Full Name\" v-model=\"profile.panFullName\" outlined dense></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\">\r\n                      <v-text-field label=\"PAN Card Number\" v-model=\"profile.panNumber\" outlined dense></v-text-field>\r\n                    </v-col>\r\n                    <!-- PAN Card Image Section -->\r\n                    <v-col cols=\"12\" class=\"text-center\">\r\n                      <v-avatar size=\"150\" @click=\"triggerPanCardFileInput\" class=\"pan-card-avatar\">\r\n                        <img :src=\"panCardImage || 'https://via.placeholder.com/150'\" alt=\"PAN Card Image\" class=\"pan-card-img\">\r\n                      </v-avatar>\r\n                      <input\r\n                        ref=\"panCardFileInput\"\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        @change=\"onPanCardFileChange\"\r\n                        style=\"display: none;\"\r\n                      />\r\n                      <v-btn class=\"mt-2\" small outlined @click=\"triggerPanCardFileInput\">Upload PAN Card</v-btn>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-form>\r\n                <v-divider class=\"my-4\"></v-divider>\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-btn block color=\"primary\" @click=\"saveProfile\">Save Changes</v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n            </v-row>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        profileImage: null,\r\n        panCardImage: null,\r\n        profile: {\r\n          name: \"\",\r\n          gender: \"\",\r\n          email: \"\",\r\n          phone: \"\",\r\n          address: \"\",\r\n          dob: \"\",\r\n          panFullName: \"\",\r\n          panNumber: \"\"\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      async fetchProfile() {\r\n        try {\r\n          const response = await axios.get('/api/profile'); // Replace with your API endpoint\r\n          this.profile = response.data;\r\n        } catch (error) {\r\n          console.error(\"Error fetching profile data:\", error);\r\n        }\r\n      },\r\n      triggerFileInput() {\r\n        this.$refs.fileInput.click();\r\n      },\r\n      onFileChange(event) {\r\n        const file = event.target.files[0];\r\n        if (file) {\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            this.profileImage = e.target.result;\r\n          };\r\n          reader.readAsDataURL(file);\r\n        }\r\n      },\r\n      triggerPanCardFileInput() {\r\n        this.$refs.panCardFileInput.click();\r\n      },\r\n      onPanCardFileChange(event) {\r\n        const file = event.target.files[0];\r\n        if (file) {\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            this.panCardImage = e.target.result;\r\n          };\r\n          reader.readAsDataURL(file);\r\n        }\r\n      },\r\n      async saveProfile() {\r\n        try {\r\n          const formData = new FormData();\r\n          formData.append('name', this.profile.name);\r\n          formData.append('gender', this.profile.gender);\r\n          formData.append('email', this.profile.email);\r\n          formData.append('phone', this.profile.phone);\r\n          formData.append('address', this.profile.address);\r\n          formData.append('dob', this.profile.dob);\r\n          formData.append('panFullName', this.profile.panFullName);\r\n          formData.append('panNumber', this.profile.panNumber);\r\n  \r\n          if (this.$refs.fileInput.files[0]) {\r\n            formData.append('profileImage', this.$refs.fileInput.files[0]);\r\n          }\r\n          if (this.$refs.panCardFileInput.files[0]) {\r\n            formData.append('panCardImage', this.$refs.panCardFileInput.files[0]);\r\n          }\r\n  \r\n          await axios.post('/api/profile/update', formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n          });\r\n  \r\n          alert('Profile updated successfully!');\r\n        } catch (error) {\r\n          console.error(\"Error updating profile data:\", error);\r\n          alert('Error updating profile.');\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.fetchProfile();\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .profile-avatar, .pan-card-avatar {\r\n    cursor: pointer;\r\n    border: 2px solid #E0E0E0;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n  }\r\n  .avatar-img {\r\n    object-fit: cover;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .pan-card-img {\r\n    object-fit: cover;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  h2 {\r\n    font-weight: 600;\r\n  }\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}